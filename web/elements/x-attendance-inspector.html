<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="x-semester-picker.html">
<link rel="import" href="x-grade-picker.html">

<dom-module id="x-attendance-inspector">
  <style>
    :host {
      @apply(--layout-vertical);
    }
  </style>

  <template>
    <button
      on-tap="_handleClose">
      X
    </button>
    <h1>Teilnahme bearbeiten</h1>
    <button
      on-tap="_handleDelete">
      LÃ–SCHEN
    </button>
    <x-semester-picker
      value="{{attendance.time}}">
    </x-semester-picker>
    <x-grade-picker
      value="{{attendance.grade}}">
    </x-grade-picker>
  </template>

  <script>
    Polymer({
      is: "x-attendance-inspector",

      properties: {
        attendance: {
          type: Object,
          value: null
        }
      },

      _formatTime: function (time) {
        return time.year + " " + (time.isWinter ? "Winter" : "Sommer");
      },
      _formatGrade: function (grade) {
        return grade != null ? grade : '-';
      },

      _handleClose: function () {
        this.fire("select-attendance", { data: null });
      },
      _handleDelete: function () {
        this.fire("delete-attendance", { data: this.attendance });
      }
    });
  </script>
</dom-module>
