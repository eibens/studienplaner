<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="x-filter-behavior.html">

<dom-module id="x-attendance-filter">
  <script>
    Polymer({
      is: "x-attendance-filter",

      behaviors: [
        App.FilterBehavior
      ],

      test: function (attendance) {
        if (!attendance) attendance = {};
        var course = attendance.course ? attendance.course : {};
        var params = this.parameters;
        if (!params) return true;
        return this.testTitle(course.title) &&
          this.testType(course.type) &&
          this.testGrade(this._computeGrade(attendance.grade)) &&
          this.testTags(course.tags);
      },

      _computeGrade: function (grade) {
        if (!grade) return null;
        return grade.value.toString();
      }
    });
  </script>
</dom-module>
