<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/paper-menu-button/paper-menu-button.html">
<link rel="import" href="../bower_components/paper-styles/paper-styles.html">
<link rel="import" href="x-profile-menu.html">
<link rel="import" href="x-save-indicator.html">

<dom-module id="x-toolbar">
  <style>
    :host {
      @apply(--layout-horizontal);
      @apply(--layout-center-center);
      height: 100%;
    }
    input {
      font-family: Roboto, Noto, sans-serif;
      width: 200px;
      transition: background 0.2s;
      background: none;
      border: none;
      outline: none;
      color: white;
      padding: 8px;
      font-size: 16px;
      font-weight: 200;
      text-align: right;
      border-radius: 3px;
    }
    input::-webkit-input-placeholder {
      opacity: 0.7;
      color: white;
      font-style: italic;
    }
    input:focus,
    input:hover {
      transition: background 0.2s;
      background: rgba(255, 255, 255, 0.15);
    }
    x-save-indicator {
      height: 100%;
      width: 56px;
      background: rgba(0, 0, 0, 0.1);
    }

    @media screen and (max-width: 767px) {
      :host {
        width: 100%;
      }
      x-save-indicator {
        display: none;
      }
      input {
        @apply(--layout-flex);
        width: auto;
        text-align: left;
      }
    }
  </style>

  <template>
    <input
      placeholder="Unbenannt"
      value="{{name::input}}">

    <paper-menu-button
      horizontal-align="right">
      <paper-icon-button
        icon="more-vert"
        class="dropdown-trigger">
      </paper-icon-button>
      <x-profile-menu
        class="dropdown-content"
        export-disabled="[[cleared]]"
        clear-disabled="[[cleared]]">
      </x-profile-menu>
    </paper-menu-button>

    <x-save-indicator
      active="{{saving}}">
    </x-save-indicator>
  </template>

  <script>
    Polymer({
      is: "x-toolbar",

      properties: {
        name: {
          type: String,
          notify: true
        },
        saving: {
          type: Boolean
        },
        cleared: {
          type: Boolean,
          reflectToAttribute: true
        }
      }
    });
  </script>
</dom-module>
